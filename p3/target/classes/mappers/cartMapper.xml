<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.zerock.mapper.CartMapper">

<select id="cartAll" resultType="CartVO">
	select * from cart where uid=#{uid} 
	<include refid="idcheck"></include>
</select>
<sql id="idcheck">
	<if test="id !=null">
		and id=#{id}
	</if>
	<if test="id==null">
		and o_id=#{o_id}
	</if>
</sql>

<delete id="deleteCart">
	delete from cart where ct_uid = #{ct_uid}
</delete>

<select id="listCart" resultType="CartVO">
	select * from cart where id=#{id}
</select>
<select id="listCartNon" resultType="CartVO">
	select * from cart where o_id=#{o_id}
</select>

<select id="itemInfo" resultType="ItemVO">
	select * from item where uid=#{uid}
</select>

<insert id="cartInsert">
	insert into cart (o_id,id,s_id,uid,price,qty,point,signdate,file1,color,subject) values 
	(#{o_id},#{id},#{s_id},#{uid},#{price},#{qty},#{point},#{signdate},#{file1},#{color},#{subject})
</insert>
</mapper>